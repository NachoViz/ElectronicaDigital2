
    LIST    P=16F887
     
    #include <P16f887.INC>
    
__CONFIG _CONFIG1, _FOSC_INTRC_NOCLKOUT & _WDTE_OFF & _PWRTE_OFF & _MCLRE_ON & _CP_OFF & _CPD_OFF & _BOREN_OFF & _IESO_OFF & _FCMEN_OFF & _LVP_OFF
__CONFIG _CONFIG2, _BOR4V_BOR40V & _WRT_OFF
    
    #DEFINE LED PORTB,RB0
    #DEFINE PULSADOR PORTC,RC0
    
    CBLOCK 0X20
    T1
    T2
    T3
    CUENTA1
    CUENTA2
    ENDC
    
	ORG 0X00
	GOTO INICIO
	
	ORG 0X05
INICIO
	BANKSEL ANSELH
	CLRF ANSELH
	BANKSEL TRISB
	CLRF	TRISB
	BANKSEL PORTB
	CLRF	PORTB
	BCF	STATUS,C

	MOVLW	0X80
	MOVWF	PORTB
	CALL	RETARDO
FIN
	CALL	DERECHA
	;RLF	PORTB
	CALL	RETARDO
	CALL	IZQUIERDA
	GOTO	FIN
	
DERECHA
	MOVLW	.7
	MOVWF	CUENTA1
X1
	RRF	PORTB
	CALL	RETARDO
	DECFSZ	CUENTA1,F
	GOTO    X1
	RETURN
	
IZQUIERDA
	MOVLW	.7;.6 SI PONEMOS UN RFL DESPUES DE CALL DERECHA 
	MOVWF	CUENTA2
X2
	RLF	PORTB
	CALL	RETARDO
	DECFSZ	CUENTA2,F
	GOTO	X2
	RETURN
	
	
RETARDO
	MOVLW	D'10'
	MOVWF	T1
L1
	MOVLW	D'100'
	MOVWF	T2
L2
	MOVLW	D'200'
	MOVWF	T3
L3
	NOP
	DECFSZ	T3,F
	GOTO	L3
	DECFSZ	T2,F
	GOTO	L2
	DECFSZ	T1,F
	GOTO	L1
	RETURN
	

END